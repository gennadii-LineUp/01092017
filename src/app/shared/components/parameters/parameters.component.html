<main class="gray-bg-citizen coin-bg">
  <section class="consult-sold">
    <h3 class="top-header" >
      <div class="back-button" [routerLink]="['/' +userRole+ '/services']">Back</div>
      QR code
    </h3>
      <div class="col-sm-12 col-md-6 col-lg-4 ml-auto mr-auto">
        <div class="compte__wrapper">
          <div class="container">

          <div style="text-align: center">
            <h3 style="padding: 8px 0 8px 0">My QR Code:</h3>
            <p>
              <qr-code [value]="'' + idAccountEnvoyeur" [size]="150"></qr-code>
            </p>
          </div>

          <div class="compte__amount only-desktop">
            <h4>Scannez le QR code pour me payer et mettez le ici</h4>
            <div class="floating-block border-hover">
              <div class="floating-input" style="margin-bottom: 0">
                <input id="beneficiaryFromQR" name="beneficiaryFromQR" required type="text"
                       [(ngModel)]="idAccountBeneficiaryFromQR" min="0"
                       (keyup.enter)='submitTransferCompteFunction()'
                       onkeydown="return ( event.ctrlKey || event.altKey
                                                                    || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false)
                                                                    || (95<event.keyCode && event.keyCode<106)
                                                                    || (event.keyCode===8) || (event.keyCode===9)
                                                                    || (event.keyCode>34 && event.keyCode<40)
                                                                    || (event.keyCode===46) || (event.keyCode===110))"/>
                <div class="clean-input" (click)="clearBeneficiaryFromQR()"></div>
              </div>
            </div>
          </div>

          <div class="only-mobile">
            <p style="position: relative">
              <button id="startScan" class="orange-button" (touchend)="startScan()">Scannez le QR code pour me payer</button>
            </p>
          </div>

            <!--<span *ngIf="idAccountBeneficiaryFromQR"-->
                  <!--style="position: absolute; top: 45%; right: 10%;">-->
              <!--{{idAccountBeneficiaryFromQR}}-->
            <!--</span>-->

            <br>
          <div class="compte__amount">
            <h4>Amount</h4>
            <div class="floating-block border-hover">
              <div class="floating-input" style="margin-bottom: 0">
                <input id="amountFacture" name="amountFacture" placeholder="00.00" required type="text"
                       [(ngModel)]="amountToReceiver" min="0.01"
                       (keyup.enter)='submitTransferCompteFunction()'
                       onkeydown="return ( event.ctrlKey || event.altKey
                                                                    || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false)
                                                                    || (95<event.keyCode && event.keyCode<106)
                                                                    || (event.keyCode===8) || (event.keyCode===9)
                                                                    || (event.keyCode>34 && event.keyCode<40)
                                                                    || (event.keyCode===46) || (event.keyCode===110))"/>
                <div class="clean-input" (click)="clearAmount()"></div>
              </div>
              <div class="currency">{{currencyParams.curXOF()}}</div>
            </div>
          </div>

            <div *ngIf="errorMessage" class="errorTextClass" >{{errorMessage}}</div>
            <p *ngIf="!errorMessage" style="margin: 0; text-align: center; height: 17.5px">
              <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
            </p>

          <button class="orange-button blue-button" type="submit" style="margin-top: 4px"
                  [disabled]="!(idAccountBeneficiaryFromQR && (+amountToReceiver >= 0.01))"
                  (click)="submitTransferCompteFunction()">Send
          </button>
        </div>
      </div>
    </div>
  </section>

  <app-success-message [message_firstLine]="successMessage_1" [message_secondLine]="successMessage_2"></app-success-message>

</main>

