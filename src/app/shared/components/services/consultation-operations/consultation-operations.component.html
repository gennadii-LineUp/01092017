<main class="gray-bg-citizen coin-bg">
    <section class="consult-oper">
        <div class="container">
            <h3>Consultation operations</h3>
            <div class="row">
                <div *ngIf="profileAsAgent" class="col-md-6 col-lg-4">
                  <app-select-sender (senderDefined)="setSenderFunction($event)"></app-select-sender>
                </div>


                <div *ngIf="!profileAsAgent" class="col-md-6 col-lg-4 consult-oper__wrapper">
                    <div class="consult-oper__header">Choose account</div>
                    <div class="accordionWrapper">
                        <div *ngFor="let myAccount of userDataService.myAccounts" class="accordionItem close-item"
                             (click)="chooseAccount(myAccount); commonServices.accordionToggleItemFunction($event); $event.stopPropagation()">
                            <div class="consult-user accordionItemHeading">
                                <div class="logo"
                                     style="background-image: url('../../../../../assets/img/user.png')"></div>
                                <div>
                                    <div>{{myAccount.nom}} {{myAccount.prenom}}</div>
                                    <div>Email: <span class="mail">{{myAccount.email}}</span></div>
                                </div>
                                <i class="fa fa-angle-right" aria-hidden="true"></i>
                            </div>
                          <div *ngIf="errorMessage" class="errorTextClass" style="padding: 0 8px">{{errorMessage}}</div>
                          <p *ngIf="!errorMessage" style="margin: 0; text-align: center"><img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" /></p>
                          <div class="accordionItemContent" (click)="$event.stopImmediatePropagation()" >
                              <button class="orange-button blue-button"
                                        (click)="submitFunction($event)">
                                  Send a request
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


                <div *ngIf="showTransactions" class="col-md-6 col-lg-4 consult-sold-history">
                    <div class="balance" style="text-align: right; padding-right: 15px; padding-top: 15px; display: none">
                      <!--<div *ngIf="transactions_current.length" class="balance" style="text-align: right; padding-right: 15px; padding-top: 15px; display: none">-->
                      <b>{{solde | number : '1.2-2'}}</b> <span class="curr">USD</span>
                    </div>
                    <div class="little-title">
                      Latest transactions
                      <span class="float-right">({{totalOperations}} operations)</span>
                      <!--<span *ngIf="transactions_current.length" class="float-right">({{totalOperations}} operations)</span>-->
                    </div>
                    <div *ngIf="transactions_all.length>0" >
                        <div *ngFor="let tr of transactions_all" class="consult__item">
                          <div>
                            <span>Receiver: <span class="name" style="color: red">firstName lastName</span></span>
                            <span>{{tr.sens | debitCreditSign}}{{tr.montant | number : '1.2-2'}}<span class="curr">USD</span></span>
                          </div>
                          <div>
                            <span style="color: red">date</span>
                            <span style="color: red">tyme</span>
                          </div>
                        </div>
                    </div>

                    <div *ngIf="successMessage" class="consult__item">
                      <div class="succesTextClass">{{successMessage}}</div>
                    </div>


                  <!--<app-pagination [transactions_all]="transactions_all" (transactions_current)="setTransactionsCurrentFunction($event)" ></app-pagination>-->


                </div>
            </div>
        </div>
    </section>

</main>
