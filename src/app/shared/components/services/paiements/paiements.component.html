<main class="gray-bg-citizen coin-bg">
  <section class="paiements">
    <h3 class="top-header">
      <div *ngIf="contract_to_select"  class="back-button" [routerLink]="['/' +userRole+ '/services']">Back</div>
      <div *ngIf="!contract_to_select" class="back-button" (click)="contract_to_select=true">Back</div>
      Paiements de masses re√ßus (XW2W)</h3>
    <div class="container">

      <!-- First page-->
      <div *ngIf="contract_to_select" class="row">
        <div class="col-sm-12 col-md-6 ml-auto  mr-auto">
          <div class="paiements__wrapper">
            <app-contracts-list (contract_defined)="chooseContractFunction($event)"></app-contracts-list>

          </div>
        </div>
      </div>
      <!-- END First page-->

      <!-- Second page-->
      <div *ngIf="!contract_to_select" class="row">
        <div class="col-sm-12 col-md-6 ml-auto  mr-auto">
          <div class="paiements__wrapper">
            <div class="paiements__header top-header only-desktop">
              <div *ngIf="contract_to_select"  class="back-button" [routerLink]="['/' +userRole+ '/services']">Back</div>
              <div *ngIf="!contract_to_select" class="back-button" (click)="contract_to_select=true">Back</div>
              <div>Contract <span>{{contract_current}}</span></div>
              <div class="blue-angle" (click)="chooseAnotherContractFunction()">Choose</div>
            </div>
            <div class="paiements__header top-header only-mobile" style="padding: 8px 70px !important">
              <div *ngIf="contract_to_select"  class="back-button" [routerLink]="['/' +userRole+ '/services']">Back</div>
              <div *ngIf="!contract_to_select" class="back-button" (click)="contract_to_select=true">Back</div>
              <div>Contract <br><span style="color: black">{{contract_current}}</span></div>
              <div class="blue-angle" style="color: white" (click)="chooseAnotherContractFunction()">Choose</div>
            </div>
            <div *ngIf="!operations" class="paiements__header top-header">
              <div *ngIf="contract_to_select"  class="back-button" [routerLink]="['/' +userRole+ '/services']">Back</div>
              <div *ngIf="!contract_to_select" class="back-button" (click)="contract_to_select=true">Back</div>
              No operations available
            </div>
            <div *ngFor="let operation of operations" class="paiements__item">
              <div>
                <span>Sender: <span class="name">{{operation.nom}} {{operation.prenom}}</span></span>
                <span *ngIf="operation.sens==='CREDIT'"    class="profit">
                  {{operation.sens | debitCreditSign}}{{operation.montant | number : '1.2-2'}}<span class="curr">{{currencyParams.curXOF()}}</span>
                </span>
                <span *ngIf="!(operation.sens==='CREDIT')" class="lesion">
                  {{operation.sens | debitCreditSign}}{{operation.montant | number : '1.2-2'}}<span class="curr">{{currencyParams.curXOF()}}</span>
                </span>
              </div>
              <div>
                <span>{{operation.date | dateFromServerMoment}}</span>
                <span>{{operation.date | timeFromServerMoment}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- END Second page-->

      <div *ngIf="errorMessage" class="errorTextClass">{{errorMessage}}</div>
      <p *ngIf="!errorMessage" style="margin: 0; text-align: center; height: 16px"><img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" /></p>

    </div>
  </section>

</main>
